(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,r){e.exports={header:"Header_header__31eUA",menu_bar:"Header_menu_bar__13Zhk"}},4:function(e,t,r){e.exports={infoWrapper:"Info_infoWrapper__3146t",head:"Info_head__3OZz5",close:"Info_close__79Pux",title:"Info_title__33Lcn",goods:"Info_goods__3kLq6",goodItem:"Info_goodItem__35GNJ",goodName:"Info_goodName__1OPev",quantity:"Info_quantity__2VPcm",price:"Info_price__1lhhF",saleInfo:"Info_saleInfo__3vWXX",total:"Info_total__1p0lK",notice:"Info_notice__2xoNe"}},42:function(e,t,r){},66:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),n=r(34),c=r.n(n),o=r(2),d=(r(42),r(19)),i=r.n(d),l=r(0),j=function(e){return Object(l.jsx)("header",{className:i.a.header,children:Object(l.jsxs)("div",{className:i.a.menu_bar,children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})})},h=r(13),u=r(14),p=r(16),b=r(15),O=r(4),_=r.n(O),f=function(e){var t=e.good.price*e.good.count-e.sale*e.good.count;return Object(l.jsxs)("div",{className:_.a.goodItem,children:[Object(l.jsxs)("div",{className:_.a.goodInfo,children:[Object(l.jsx)("p",{className:_.a.goodName,children:e.good.name}),Object(l.jsxs)("p",{className:_.a.quantity,children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",e.good.count]})]}),Object(l.jsx)("div",{className:_.a.price,children:Math.ceil(100*t)/100})]})},x=r(10),g=r.p+"static/media/close.5870c163.svg",m=function(e){Object(p.a)(r,e);var t=Object(b.a)(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){for(var e=this.props.history.match.params.orderId,t=this.props.state.ordersPage.orders,r=t[0].goods,s=[],a=[],n=(t=t.filter((function(t){return t.id===e})))[0].sale,c=0;c<r.length;c++)s.push(r[c].price*r[c].count);for(var o=0;o<r.length;o++)a.push(n*r[o].count);var d=s.reduce((function(e,t){return e+t}),0),i=a.reduce((function(e,t){return e+t}),0),j=i/(d/100);return Object(l.jsxs)("div",{className:_.a.infoWrapper,children:[Object(l.jsxs)("div",{className:_.a.head,children:[Object(l.jsxs)("h2",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116",t[0].number]}),Object(l.jsx)("span",{children:t[0].date})]}),Object(l.jsx)(x.b,{to:"/Main/",children:Object(l.jsx)("div",{className:_.a.close,children:Object(l.jsx)("img",{src:g,alt:""})})}),Object(l.jsxs)("div",{className:_.a.title,children:[Object(l.jsx)("h3",{children:"\u0422\u043e\u0432\u0430\u0440"}),Object(l.jsx)("p",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"})]}),Object(l.jsx)("div",{className:_.a.goods,children:r.map((function(e){return Object(l.jsx)(f,{good:e,sale:t[0].sale},e.id)}))}),Object(l.jsxs)("p",{className:_.a.saleInfo,children:["\u0421\u043a\u0438\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0430 ",Math.ceil(100*j)/100," % "]}),Object(l.jsxs)("div",{className:_.a.total,children:["\u0418\u0442\u043e\u0433\u043e: ",Math.ceil(100*(d-i))/100]}),Object(l.jsx)("p",{className:_.a.notice,children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 10 \u0434\u043d\u0435\u0439 \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u044b"})]})}}]),r}(a.a.Component),v=r(9),N=r.n(v),I=r.p+"static/media/filter.cf3cea15.svg",k=function(e){for(var t=[],r=e.sale,s=0;s<e.order.goods.length;s++)t.push(e.order.goods[s].price*e.order.goods[s].count-r);var a=t.reduce((function(e,t){return e+t}),0);return Object(l.jsx)(x.b,{to:"/Info/"+e.order.id,children:Object(l.jsxs)("div",{className:N.a.orderItem,children:[Object(l.jsxs)("div",{className:N.a.orderTitle,children:[Object(l.jsxs)("h4",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116",e.order.number]}),Object(l.jsx)("svg",{children:Object(l.jsx)("text",{className:N.a.price,x:"1",y:"16",fill:"none",stroke:"#6e9143",strokeWidth:"1",strokeDasharray:"2000 2",children:Math.ceil(100*a)/100})})]}),Object(l.jsx)("div",{className:N.a.date,children:e.order.date?e.order.date:"Empty info"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["\u2219 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 ",e.order.goods.length," \u0448\u0442."]}),Object(l.jsxs)("li",{children:["\u2219 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439 ",e.order.goods.length," \u0448\u0442."]})]})]})})},y=r.p+"static/media/loader.a5e01cf9.svg",P=function(e){return Object(l.jsx)("img",{className:N.a.loader,src:y})},B=r(36),W=function(e){Object(p.a)(r,e);var t=Object(b.a)(r);function r(e){var s;return Object(h.a)(this,r),(s=t.call(this,e)).state={loading:!1},s}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this;B.get("https://u38027.netangels.ru/api/orders.php").then((function(t){e.props.state.ordersPage.orders=[];for(var r=0;r<t.data.length;r++)e.props.state.ordersPage.orders.push(t.data[r]),e.setState({loading:!0})}))}},{key:"render",value:function(){var e=this.state.loading;return this.state.loading?Object(l.jsxs)("div",{className:N.a.ordersWrapper,children:[Object(l.jsxs)("div",{className:N.a.titleBlock,children:[Object(l.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(l.jsx)("img",{src:I,alt:""})]}),Object(l.jsx)("div",{className:N.a.ordersBlock,children:e&&this.props.state.ordersPage.orders.map((function(e){return Object(l.jsx)(k,{order:e,sale:e.sale},e.id)}))})]}):Object(l.jsx)(P,{})}}]),r}(a.a.Component),F=function(e){return Object(l.jsxs)("div",{className:"appWrapper",children:[Object(l.jsx)(j,{}),Object(l.jsx)(o.a,{render:function(t){return Object(l.jsx)(W,{state:e.state})},path:"/Main"}),Object(l.jsx)(o.a,{render:function(t,r){return Object(l.jsx)(m,{state:e.state,history:t})},path:"/Info/:orderId?"})]})},M=(r(66),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,69)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,c=t.getTTFB;r(e),s(e),a(e),n(e),c(e)}))}),T=r(22),q={orders:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return t.type,e},L=Object(T.a)({ordersPage:C}),w=Object(T.b)(L);window.store=w;var S=w,D=function(e){c.a.render(Object(l.jsx)(x.a,{children:Object(l.jsx)(F,{state:e,dispatch:S.dispatch.bind(S),store:S})}),document.getElementById("root"))};D(S.getState()),S.subscribe((function(){var e=S.getState();D(e)})),M()},9:function(e,t,r){e.exports={ordersWrapper:"Orders_ordersWrapper__vq1Tx",titleBlock:"Orders_titleBlock__Qv8ux",ordersBlock:"Orders_ordersBlock__3Rd8O",orderItem:"Orders_orderItem___j0g2",orderTitle:"Orders_orderTitle__2jgBF",price:"Orders_price___EkkL",date:"Orders_date__-Zn1F"}}},[[68,1,2]]]);
//# sourceMappingURL=main.4e9254ac.chunk.js.map