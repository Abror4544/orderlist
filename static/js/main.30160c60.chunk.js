(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e,t,r){e.exports={header:"Header_header__31eUA",menu_bar:"Header_menu_bar__13Zhk"}},4:function(e,t,r){e.exports={infoWrapper:"Info_infoWrapper__3146t",head:"Info_head__3OZz5",close:"Info_close__79Pux",title:"Info_title__33Lcn",goods:"Info_goods__3kLq6",goodItem:"Info_goodItem__35GNJ",goodName:"Info_goodName__1OPev",quantity:"Info_quantity__2VPcm",price:"Info_price__1lhhF",saleInfo:"Info_saleInfo__3vWXX",total:"Info_total__1p0lK",notice:"Info_notice__2xoNe"}},43:function(e,t,r){},67:function(e,t,r){},69:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),c=r(35),n=r.n(c),o=r(12),d=r(2),i=(r(43),r(20)),l=r.n(i),j=r(0),h=function(e){return Object(j.jsx)("header",{className:l.a.header,children:Object(j.jsxs)("div",{className:l.a.menu_bar,children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})},u=r(14),b=r(15),p=r(17),O=r(16),_=r(4),f=r.n(_),x=function(e){var t=e.good.price*e.good.count-e.sale*e.good.count;return Object(j.jsxs)("div",{className:f.a.goodItem,children:[Object(j.jsxs)("div",{className:f.a.goodInfo,children:[Object(j.jsx)("p",{className:f.a.goodName,children:e.good.name}),Object(j.jsxs)("p",{className:f.a.quantity,children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",e.good.count]})]}),Object(j.jsx)("div",{className:f.a.price,children:Math.ceil(100*t)/100})]})},g=r(10),m=r.p+"static/media/close.5870c163.svg",v=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(b.a)(r,[{key:"render",value:function(){for(var e=this.props.history.match.params.orderId,t=this.props.state.ordersPage.orders,r=t[0].goods,s=[],a=[],c=(t=t.filter((function(t){return t.id===e})))[0].sale,n=0;n<r.length;n++)s.push(r[n].price*r[n].count);for(var o=0;o<r.length;o++)a.push(c*r[o].count);var d=s.reduce((function(e,t){return e+t}),0),i=a.reduce((function(e,t){return e+t}),0),l=i/(d/100);return Object(j.jsxs)("div",{className:f.a.infoWrapper,children:[Object(j.jsxs)("div",{className:f.a.head,children:[Object(j.jsxs)("h2",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116",t[0].number]}),Object(j.jsx)("span",{children:t[0].date})]}),Object(j.jsx)(g.b,{to:"/Main/",children:Object(j.jsx)("div",{className:f.a.close,children:Object(j.jsx)("img",{src:m,alt:""})})}),Object(j.jsxs)("div",{className:f.a.title,children:[Object(j.jsx)("h3",{children:"\u0422\u043e\u0432\u0430\u0440"}),Object(j.jsx)("p",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"})]}),Object(j.jsx)("div",{className:f.a.goods,children:r.map((function(e){return Object(j.jsx)(x,{good:e,sale:t[0].sale},e.id)}))}),Object(j.jsxs)("p",{className:f.a.saleInfo,children:["\u0421\u043a\u0438\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0430 ",Math.ceil(100*l)/100," % "]}),Object(j.jsxs)("div",{className:f.a.total,children:["\u0418\u0442\u043e\u0433\u043e: ",Math.ceil(100*(d-i))/100]}),Object(j.jsx)("p",{className:f.a.notice,children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 10 \u0434\u043d\u0435\u0439 \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u044b"})]})}}]),r}(a.a.Component),N=r(9),I=r.n(N),k=r.p+"static/media/filter.cf3cea15.svg",y=function(e){for(var t=[],r=e.sale,s=0;s<e.order.goods.length;s++)t.push(e.order.goods[s].price*e.order.goods[s].count-r);var a=t.reduce((function(e,t){return e+t}),0);return Object(j.jsx)(g.b,{to:"/Info/"+e.order.id,children:Object(j.jsxs)("div",{className:I.a.orderItem,children:[Object(j.jsxs)("div",{className:I.a.orderTitle,children:[Object(j.jsxs)("h4",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116",e.order.number]}),Object(j.jsx)("svg",{children:Object(j.jsx)("text",{className:I.a.price,x:"1",y:"16",fill:"none",stroke:"#6e9143",strokeWidth:"1",strokeDasharray:"2000 2",children:Math.ceil(100*a)/100})})]}),Object(j.jsx)("div",{className:I.a.date,children:e.order.date?e.order.date:"Empty info"}),Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["\u2219 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 ",e.order.goods.length," \u0448\u0442."]}),Object(j.jsxs)("li",{children:["\u2219 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439 ",e.order.goods.length," \u0448\u0442."]})]})]})})},P=r.p+"static/media/loader.a5e01cf9.svg",B=function(e){return Object(j.jsx)("img",{className:I.a.loader,src:P})},W=r(37),F=r.n(W),M=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).state={loading:!1},s}return Object(b.a)(r,[{key:"componentDidMount",value:function(){var e=this;F.a.get("https://u38027.netangels.ru/api/orders.php").then((function(t){e.props.state.ordersPage.orders=[];for(var r=0;r<t.data.length;r++)e.props.state.ordersPage.orders.push(t.data[r]),e.setState({loading:!0})}))}},{key:"render",value:function(){var e=this.state.loading;return this.state.loading?Object(j.jsxs)("div",{className:I.a.ordersWrapper,children:[Object(j.jsxs)("div",{className:I.a.titleBlock,children:[Object(j.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(j.jsx)("img",{src:k,alt:""})]}),Object(j.jsx)("div",{className:I.a.ordersBlock,children:e&&this.props.state.ordersPage.orders.map((function(e){return Object(j.jsx)(y,{order:e,sale:e.sale},e.id)}))})]}):Object(j.jsx)(B,{})}}]),r}(a.a.Component),T=function(e){return Object(j.jsxs)("div",{className:"appWrapper",children:[Object(j.jsx)(h,{}),Object(j.jsx)(d.a,{render:function(t){return Object(j.jsx)(M,Object(o.a)(Object(o.a)({},e),{},{state:e.state}))},path:"/Main"}),Object(j.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{render:function(t,r){return Object(j.jsx)(v,Object(o.a)(Object(o.a)({},e),{},{state:e.state,history:t}))},path:"/Info/:orderId?"}))]})},q=(r(67),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,70)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,n=t.getTTFB;r(e),s(e),a(e),c(e),n(e)}))}),C=r(23),L={orders:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return t.type,e},S=Object(C.a)({ordersPage:w}),D=Object(C.b)(S);window.store=D;var E=D,J=function(e){n.a.render(Object(j.jsx)(g.a,{children:Object(j.jsx)(T,{state:e,dispatch:E.dispatch.bind(E),store:E})}),document.getElementById("root"))};J(E.getState()),E.subscribe((function(){var e=E.getState();J(e)})),q()},9:function(e,t,r){e.exports={ordersWrapper:"Orders_ordersWrapper__vq1Tx",titleBlock:"Orders_titleBlock__Qv8ux",ordersBlock:"Orders_ordersBlock__3Rd8O",orderItem:"Orders_orderItem___j0g2",orderTitle:"Orders_orderTitle__2jgBF",price:"Orders_price___EkkL",date:"Orders_date__-Zn1F"}}},[[69,1,2]]]);
//# sourceMappingURL=main.30160c60.chunk.js.map